describe('Trends Box', function() {

    var response = {"data":[{"trends":[{"name":"FRASE DO MEU TÚMULO","url":"http://twitter.com/search?q=%22FRASE+DO+MEU+T%C3%9AMULO%22","promoted_content":null,"query":"%22FRASE+DO+MEU+T%C3%9AMULO%22","tweet_volume":18341},{"name":"#RespectFandom","url":"http://twitter.com/search?q=%23RespectFandom","promoted_content":null,"query":"%23RespectFandom","tweet_volume":36858},{"name":"#DomingoLucasDetreloverSdv","url":"http://twitter.com/search?q=%23DomingoLucasDetreloverSdv","promoted_content":null,"query":"%23DomingoLucasDetreloverSdv","tweet_volume":null},{"name":"#NelfiesForNiall","url":"http://twitter.com/search?q=%23NelfiesForNiall","promoted_content":null,"query":"%23NelfiesForNiall","tweet_volume":14728},{"name":"#нʇbɒįρʞʇнɒbįʞʞɒ","url":"http://twitter.com/search?q=%23%D0%BD%CA%87b%C9%92%C4%AF%CF%81%CA%9E%CA%87%D0%BD%C9%92b%C4%AF%CA%9E%CA%9E%C9%92","promoted_content":null,"query":"%23%D0%BD%CA%87b%C9%92%C4%AF%CF%81%CA%9E%CA%87%D0%BD%C9%92b%C4%AF%CA%9E%CA%9E%C9%92","tweet_volume":null},{"name":"#AcodarPraQueSe","url":"http://twitter.com/search?q=%23AcodarPraQueSe","promoted_content":null,"query":"%23AcodarPraQueSe","tweet_volume":null},{"name":"Globo Rural","url":"http://twitter.com/search?q=%22Globo+Rural%22","promoted_content":null,"query":"%22Globo+Rural%22","tweet_volume":null},{"name":"HOJE TEM CORINTHIANS","url":"http://twitter.com/search?q=%22HOJE+TEM+CORINTHIANS%22","promoted_content":null,"query":"%22HOJE+TEM+CORINTHIANS%22","tweet_volume":null},{"name":"Quase 5h","url":"http://twitter.com/search?q=%22Quase+5h%22","promoted_content":null,"query":"%22Quase+5h%22","tweet_volume":null},{"name":"Pampulha","url":"http://twitter.com/search?q=Pampulha","promoted_content":null,"query":"Pampulha","tweet_volume":null},{"name":"Demba Ba","url":"http://twitter.com/search?q=%22Demba+Ba%22","promoted_content":null,"query":"%22Demba+Ba%22","tweet_volume":11613},{"name":"América x Santa Cruz","url":"http://twitter.com/search?q=%22Am%C3%A9rica+x+Santa+Cruz%22","promoted_content":null,"query":"%22Am%C3%A9rica+x+Santa+Cruz%22","tweet_volume":null},{"name":"Para 50%","url":"http://twitter.com/search?q=%22Para+50%25%22","promoted_content":null,"query":"%22Para+50%25%22","tweet_volume":null},{"name":"Esporte Espetacular","url":"http://twitter.com/search?q=%22Esporte+Espetacular%22","promoted_content":null,"query":"%22Esporte+Espetacular%22","tweet_volume":null},{"name":"RIP EMMA DUVAL","url":"http://twitter.com/search?q=%22RIP+EMMA+DUVAL%22","promoted_content":null,"query":"%22RIP+EMMA+DUVAL%22","tweet_volume":null},{"name":"Bom Domingo","url":"http://twitter.com/search?q=%22Bom+Domingo%22","promoted_content":null,"query":"%22Bom+Domingo%22","tweet_volume":null},{"name":"São Joaquim","url":"http://twitter.com/search?q=%22S%C3%A3o+Joaquim%22","promoted_content":null,"query":"%22S%C3%A3o+Joaquim%22","tweet_volume":null},{"name":"Dia de Inter","url":"http://twitter.com/search?q=%22Dia+de+Inter%22","promoted_content":null,"query":"%22Dia+de+Inter%22","tweet_volume":null},{"name":"São Francisco de Paula","url":"http://twitter.com/search?q=%22S%C3%A3o+Francisco+de+Paula%22","promoted_content":null,"query":"%22S%C3%A3o+Francisco+de+Paula%22","tweet_volume":null},{"name":"Marina 17% e Aécio 14%","url":"http://twitter.com/search?q=%22Marina+17%25+e+A%C3%A9cio+14%25%22","promoted_content":null,"query":"%22Marina+17%25+e+A%C3%A9cio+14%25%22","tweet_volume":null},{"name":"Stranger Things","url":"http://twitter.com/search?q=%22Stranger+Things%22","promoted_content":null,"query":"%22Stranger+Things%22","tweet_volume":40954},{"name":"Haiti","url":"http://twitter.com/search?q=Haiti","promoted_content":null,"query":"Haiti","tweet_volume":12122},{"name":"RIP NOAH FOSTER","url":"http://twitter.com/search?q=%22RIP+NOAH+FOSTER%22","promoted_content":null,"query":"%22RIP+NOAH+FOSTER%22","tweet_volume":19670},{"name":"Zé Ricardo","url":"http://twitter.com/search?q=%22Z%C3%A9+Ricardo%22","promoted_content":null,"query":"%22Z%C3%A9+Ricardo%22","tweet_volume":13337},{"name":"Cirino","url":"http://twitter.com/search?q=Cirino","promoted_content":null,"query":"Cirino","tweet_volume":21148},{"name":"#motogpnosportv","url":"http://twitter.com/search?q=%23motogpnosportv","promoted_content":null,"query":"%23motogpnosportv","tweet_volume":null},{"name":"#KellyKeyNoTVZ","url":"http://twitter.com/search?q=%23KellyKeyNoTVZ","promoted_content":null,"query":"%23KellyKeyNoTVZ","tweet_volume":null},{"name":"#askbeIieber","url":"http://twitter.com/search?q=%23askbeIieber","promoted_content":null,"query":"%23askbeIieber","tweet_volume":null},{"name":"#Fabio700Jogos","url":"http://twitter.com/search?q=%23Fabio700Jogos","promoted_content":null,"query":"%23Fabio700Jogos","tweet_volume":null},{"name":"#WeNeedHarryPotterGO","url":"http://twitter.com/search?q=%23WeNeedHarryPotterGO","promoted_content":null,"query":"%23WeNeedHarryPotterGO","tweet_volume":18731},{"name":"#WorldEmojiDay","url":"http://twitter.com/search?q=%23WorldEmojiDay","promoted_content":null,"query":"%23WorldEmojiDay","tweet_volume":87423},{"name":"#Chaves","url":"http://twitter.com/search?q=%23Chaves","promoted_content":null,"query":"%23Chaves","tweet_volume":null},{"name":"#CircuitoLoteriasCaixa","url":"http://twitter.com/search?q=%23CircuitoLoteriasCaixa","promoted_content":null,"query":"%23CircuitoLoteriasCaixa","tweet_volume":null},{"name":"#ChrisNaRecord","url":"http://twitter.com/search?q=%23ChrisNaRecord","promoted_content":null,"query":"%23ChrisNaRecord","tweet_volume":null},{"name":"#DiadeGrêmio","url":"http://twitter.com/search?q=%23DiadeGr%C3%AAmio","promoted_content":null,"query":"%23DiadeGr%C3%AAmio","tweet_volume":null},{"name":"#FletcherDay","url":"http://twitter.com/search?q=%23FletcherDay","promoted_content":null,"query":"%23FletcherDay","tweet_volume":null},{"name":"#FaVeRtNaMafiaSdv","url":"http://twitter.com/search?q=%23FaVeRtNaMafiaSdv","promoted_content":null,"query":"%23FaVeRtNaMafiaSdv","tweet_volume":25242},{"name":"#JusticeForMichaelJackson","url":"http://twitter.com/search?q=%23JusticeForMichaelJackson","promoted_content":null,"query":"%23JusticeForMichaelJackson","tweet_volume":33453},{"name":"#ask5sosfam","url":"http://twitter.com/search?q=%23ask5sosfam","promoted_content":null,"query":"%23ask5sosfam","tweet_volume":19016},{"name":"#AltasHoras","url":"http://twitter.com/search?q=%23AltasHoras","promoted_content":null,"query":"%23AltasHoras","tweet_volume":null},{"name":"#DDConThe100","url":"http://twitter.com/search?q=%23DDConThe100","promoted_content":null,"query":"%23DDConThe100","tweet_volume":25777},{"name":"#pontokpop","url":"http://twitter.com/search?q=%23pontokpop","promoted_content":null,"query":"%23pontokpop","tweet_volume":11307},{"name":"#RISE","url":"http://twitter.com/search?q=%23RISE","promoted_content":null,"query":"%23RISE","tweet_volume":52147}],"as_of":"2016-07-17T13:54:17Z","created_at":"2016-07-17T13:50:18Z","locations":[{"name":"Brazil","woeid":23424768}]}]};

    beforeEach(module('app.trendsBoxController'));

    var scope, httpBackend, http, controller;

    beforeEach(inject(function ($rootScope, $controller, $httpBackend, $http) {

        scope = $rootScope.$new();
        http = $http;
        controller = $controller('TrendsBoxCtrl', {
            $scope: scope,
            $http: http
        });
        httpBackend = $httpBackend;
        httpBackend.whenGET('getTrends').respond(200, response);
    }));

    it('should make a http GET request and fill data', function () {

        expect(httpBackend.flush).not.toThrow();

        expect(scope.trends[0].name).toBe('FRASE DO MEU TÚMULO');
        expect(scope.trends[0].tweet_volume).toBe(18341);
        expect(scope.trends[1].name).toBe('#RespectFandom');
        expect(scope.trends[1].tweet_volume).toBe(36858);
        expect(scope.trends[2].name).toBe('#DomingoLucasDetreloverSdv');
        expect(scope.trends[2].tweet_volume).toBe(null);
        expect(scope.trends[3].name).toBe('#NelfiesForNiall');
        expect(scope.trends[3].tweet_volume).toBe(14728);
    });
});
